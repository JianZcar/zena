#!/usr/bin/env sh

term=$(gsettings get com.github.stunkymonkey.nautilus-open-any-terminal terminal)

declare -A dict=(
    [blackbox]=com.raggesilver.BlackBox
    [wezterm]=org.wezfurlong.wezterm
    [ptyxis]=app.devsuite.Ptyxis
)

if [ -n "${dict[$term]}" ]; then
    id=${dict[$term]}
    exec flatpak run "$id" "$@"
else
    exec ghostty "$@"
fi
